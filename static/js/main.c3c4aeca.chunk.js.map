{"version":3,"sources":["model/database.js","model/model.js","components/Contexts/BooksContext.js","components/Contexts/CartContext.js","components/ScrollToTop.js","components/Header/DropdownsContext.js","components/Header/CartWidget.js","components/Header/CategoriesDropdown.js","components/Header/NavMenu.js","components/Header/Navigation.js","components/Header/MobileNavigation.js","components/Header/Navbar.js","components/Main/BooksListContainer/Book.js","components/Main/BooksListContainer/Category.js","components/Main/BooksListContainer/BooksList.js","components/Main/BooksListContainer/BooksListContainer.js","components/Main/ContactContainer/RequestBookForm.js","components/Main/ContactContainer/InquiryForm.js","components/Main/ContactContainer/ContactContainer.js","components/Main/Counter/Counter.js","components/Main/BookDetailsContainer/DetailsCounter.js","components/Main/BookDetailsContainer/GoToCart.js","components/Main/BookDetailsContainer/BookDetails.js","components/Main/BookDetailsContainer/BookDetailsContainer.js","components/Main/CartContainer/NoItemsAdded.js","components/Main/CartContainer/Item.js","components/Main/CartContainer/Cart.js","components/Main/CartContainer/CartContainer.js","components/Main/CheckoutContainer/CheckoutForm.js","components/Main/CheckoutContainer/Order.js","components/Main/CheckoutContainer/ItemsOutOfStock.js","components/Main/CheckoutContainer/CheckoutContainer.js","components/Main/AdminContainer/LoginForm.js","components/Main/AdminContainer/Item.js","components/Main/AdminContainer/StockPanel.js","components/Main/AdminContainer/AdminContainer.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","setCategories","a","collection","orderBy","onSnapshot","querySnapshot","categories","forEach","doc","push","data","console","log","Error","setBooks","setLoading","books","checkItemsStock","items","setItemsOutOfStock","updateItemStock","itemsOutOfStock","batch","where","map","item","id","get","docs","find","qty","title","stock","update","ref","length","commit","sendNewOrder","order","setOrderId","add","then","res","validateAdmin","username","password","setItemStock","BooksContext","createContext","useBooksContext","useContext","BooksProvider","children","useState","loading","error","setError","stockError","setStockError","updatingStock","setUpdatingStock","stockUpdated","setStockUpdated","booksToSend","Promise","all","book","message","useEffect","getCategories","catch","err","getBooks","Provider","value","loadStock","CartContext","useCartContext","CartProvider","JSON","parse","localStorage","getItem","cartItems","setCartItems","isInCart","some","setItem","stringify","getItemsQty","reduce","acc","getCartTotal","price","addItem","cartCopy","subtotal","newStock","updateItemQty","newQty","newSubtotal","removeItem","filter","clearCart","ScrollToTop","pathname","useLocation","window","scrollTo","DropdownsContext","useDropdownsContext","DropdownsProvider","mobNavOpened","setMobNavOpened","catDropdownOpened","setCatDropdownOpened","closeDropdowns","CartWidget","className","src","alt","CategoriesDropdown","setTimeout","category","to","onClick","NavMenu","dropdownOpened","setDropdownOpened","activeClassName","exact","Navigation","MobileNavigation","navMenuOpened","setNavMenuOpened","size","color","Navbar","Book","imgUrl","Category","name","BooksList","categoryId","useParams","getBooksSortedByCategory","BooksListContainer","RequestBookForm","action","htmlFor","type","placeholder","InquiryForm","ContactContainer","Counter","max","setQty","DetailsCounter","handleAddItem","disabled","GoToCart","BookDetails","description","itemAdded","setItemAdded","BookDetailsContainer","bookId","notFound","setNotFound","setBook","Number","NoItemsAdded","Item","Cart","CartContainer","CheckoutForm","generateOrder","phone","mail","buyer","setBuyer","validateMessages","setValidateMessages","validateInputs","validateMessagesCopy","includes","handleChange","e","target","buyerCopy","onChange","preventDefault","Order","orderId","ItemsOutOfStock","CheckoutContainer","sendingOrder","setSendingOrder","orderPayed","setOrderPayed","date","Timestamp","fromDate","Date","total","LoginForm","handleLogin","user","setUser","onSubmit","changeStock","setStock","StockPanel","setBooksToSend","booksCopy","AdminContainer","adminLogged","setAdminLogged","userExist","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c3c4aeca.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n\tapiKey: \"AIzaSyAsW2WD3hH_rek18BtMjIMRFmJngwclrKQ\",\r\n\tauthDomain: \"bibliotech-a10cc.firebaseapp.com\",\r\n\tprojectId: \"bibliotech-a10cc\",\r\n\tstorageBucket: \"bibliotech-a10cc.appspot.com\",\r\n\tmessagingSenderId: \"938811057785\",\r\n\tappId: \"1:938811057785:web:a01a45c294e07229f596a8\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const db = firebase.firestore();\r\n","import { db } from \"./database.js\";\r\n\r\nasync function getCategories(setCategories) {\r\n\ttry {\r\n\t\tdb.collection(\"categories\")\r\n\t\t\t.orderBy(\"booksQty\", \"desc\")\r\n\t\t\t.onSnapshot((querySnapshot) => {\r\n\t\t\t\tconst categories = [];\r\n\r\n\t\t\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t\t\tcategories.push({ ...doc.data() });\r\n\t\t\t\t});\r\n\t\t\t\tsetCategories(categories);\r\n\t\t\t});\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t\tthrow new Error(\"Las categorías no se pudieron cargar.\");\r\n\t}\r\n}\r\n\r\nasync function getBooks(setBooks, setLoading) {\r\n\ttry {\r\n\t\tdb.collection(\"books\")\r\n\t\t\t.orderBy(\"category\", \"asc\")\r\n\t\t\t.orderBy(\"title\", \"asc\")\r\n\t\t\t.onSnapshot((querySnapshot) => {\r\n\t\t\t\tconst books = [];\r\n\r\n\t\t\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t\t\tbooks.push({ ...doc.data() });\r\n\t\t\t\t});\r\n\t\t\t\tsetBooks(books);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t\tsetLoading(false);\r\n\t\tthrow new Error(\"Los mensajes no se pudieron cargar.\");\r\n\t}\r\n}\r\n\r\nasync function checkItemsStock(items, setItemsOutOfStock, updateItemStock) {\r\n\ttry {\r\n\t\tconst itemsOutOfStock = [];\r\n\t\tconst batch = db.batch();\r\n\r\n\t\t//GETS QUERY OF ITEMS IN CART\r\n\t\tconst itemsToUpdateQuery = await db\r\n\t\t\t.collection(\"books\")\r\n\t\t\t.where(\r\n\t\t\t\t\"id\",\r\n\t\t\t\t\"in\",\r\n\t\t\t\titems.map((item) => item.id)\r\n\t\t\t)\r\n\t\t\t.get();\r\n\r\n\t\t//UPDATES BATCH OR PUSH OUT OF STOCK ITEM\r\n\t\titemsToUpdateQuery.docs.forEach((doc) => {\r\n\t\t\tconst { id, qty, title } = items.find((item) => item.id === doc.data().id);\r\n\r\n\t\t\tif (doc.data().stock >= qty) {\r\n\t\t\t\tbatch.update(doc.ref, { stock: doc.data().stock - qty });\r\n\t\t\t} else {\r\n\t\t\t\titemsOutOfStock.push({ id: id, title: title, stock: doc.data().stock });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//IF THERE IS STOCK FOR EVERY ITEM, COMMITS BATCH\r\n\t\tif (itemsOutOfStock.length === 0) {\r\n\t\t\tbatch.commit();\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tsetItemsOutOfStock(itemsOutOfStock);\r\n\t\t\titemsOutOfStock.forEach((item) => updateItemStock(item.id, item.stock));\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t\tthrow new Error(\"No se pudo checkear el stock.\");\r\n\t}\r\n}\r\n\r\nasync function sendNewOrder(order, setOrderId) {\r\n\ttry {\r\n\t\tawait db\r\n\t\t\t.collection(\"orders\")\r\n\t\t\t.add(order)\r\n\t\t\t.then((res) => setOrderId(res.id));\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t\tthrow new Error(\"La orden no se pudo enviar.\");\r\n\t}\r\n}\r\n\r\nasync function validateAdmin({ username, password }) {\r\n\ttry {\r\n\t\tconst user = await db\r\n\t\t\t.collection(\"admins\")\r\n\t\t\t.where(\"username\", \"==\", username)\r\n\t\t\t.where(\"password\", \"==\", password)\r\n\t\t\t.get();\r\n\r\n\t\tif (user.docs[0]) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t\tthrow new Error(\"El usuario no se pudo validar.\");\r\n\t}\r\n}\r\n\r\nasync function setItemStock(id, stock) {\r\n\ttry {\r\n\t\tconst item = await db.collection(\"books\").where(\"id\", \"==\", id).get();\r\n\t\tawait item.docs[0].ref.update({ stock: stock });\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t\tthrow new Error(`No se pudo actualizar el stock de ${id}.`);\r\n\t}\r\n}\r\nexport { getCategories, getBooks, checkItemsStock, sendNewOrder, validateAdmin, setItemStock };\r\n","import React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { getCategories, getBooks, setItemStock } from \"../../model/model.js\";\r\n\r\nexport const BooksContext = createContext();\r\nexport const useBooksContext = () => useContext(BooksContext);\r\n\r\nexport function BooksProvider({ children }) {\r\n\t//CATEGORIES AND BOOKS\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [error, setError] = useState(false);\r\n\tconst [categories, setCategories] = useState([]);\r\n\tconst [books, setBooks] = useState([]);\r\n\r\n\t//STOCK\r\n\tconst [stockError, setStockError] = useState(false);\r\n\tconst [updatingStock, setUpdatingStock] = useState(false);\r\n\tconst [stockUpdated, setStockUpdated] = useState(false);\r\n\r\n\tasync function loadStock(booksToSend) {\r\n\t\ttry {\r\n\t\t\tsetUpdatingStock(true);\r\n\t\t\tsetStockUpdated(false);\r\n\r\n\t\t\tawait Promise.all(\r\n\t\t\t\tbooksToSend.map(async (book) => {\r\n\t\t\t\t\tawait setItemStock(book.id, book.stock);\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\tsetUpdatingStock(false);\r\n\t\t\tsetStockUpdated(true);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.message);\r\n\t\t\tsetUpdatingStock(false);\r\n\t\t\tsetStockError(true);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t//GETS CATEGORIES FROM MODEL\r\n\t\tgetCategories(setCategories).catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t\tsetError(true);\r\n\t\t});\r\n\r\n\t\t//GETS BOOKS FROM MODEL\r\n\t\tgetBooks(setBooks, setLoading).catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t\tsetError(true);\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<BooksContext.Provider\r\n\t\t\tvalue={{ loading, error, categories, books, loadStock, updatingStock, stockError, stockUpdated }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</BooksContext.Provider>\r\n\t);\r\n}\r\n","import React, { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\nexport const CartContext = createContext();\r\nexport const useCartContext = () => useContext(CartContext);\r\n\r\nexport function CartProvider({ children }) {\r\n\tconst [cartItems, setCartItems] = useState(JSON.parse(localStorage.getItem(\"cartItems\")) || []);\r\n\r\n\tconst isInCart = (id) => {\r\n\t\treturn cartItems.some((item) => item.item.id === id);\r\n\t};\r\n\r\n\tconst getItemsQty = () => {\r\n\t\treturn cartItems.reduce((acc, item) => acc + item.qty, 0);\r\n\t};\r\n\r\n\tconst getCartTotal = () => {\r\n\t\treturn cartItems.reduce((acc, item) => acc + item.item.price * item.qty, 0);\r\n\t};\r\n\r\n\tconst addItem = (item, qty) => {\r\n\t\tif (!isInCart(item.id)) {\r\n\t\t\tconst cartCopy = [...cartItems];\r\n\r\n\t\t\tconst subtotal = item.price * qty;\r\n\t\t\tcartCopy.push({ item: item, qty: qty, subtotal: subtotal });\r\n\r\n\t\t\tsetCartItems(cartCopy);\r\n\t\t}\r\n\t};\r\n\r\n\tconst updateItemStock = (id, newStock) => {\r\n\t\tconst cartCopy = [...cartItems];\r\n\t\tconst item = cartCopy.find((item) => item.item.id === id);\r\n\r\n\t\titem.item.stock = newStock;\r\n\t\tsetCartItems(cartCopy);\r\n\t};\r\n\r\n\tconst updateItemQty = (id, newQty) => {\r\n\t\tconst cartCopy = [...cartItems];\r\n\t\tconst item = cartCopy.find((item) => item.item.id === id);\r\n\t\tconst newSubtotal = item.item.price * newQty;\r\n\r\n\t\titem.qty = newQty;\r\n\t\titem.subtotal = newSubtotal;\r\n\r\n\t\tsetCartItems(cartCopy);\r\n\t};\r\n\r\n\tconst removeItem = (id) => {\r\n\t\tlet cartCopy = [...cartItems];\r\n\t\tcartCopy = cartCopy.filter((item) => item.item.id !== id);\r\n\r\n\t\tsetCartItems(cartCopy);\r\n\t};\r\n\r\n\tconst clearCart = () => {\r\n\t\tsetCartItems([]);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\t//SAVES CART ITEMS IN LOCAL STORAGE\r\n\t\tlocalStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n\t}, [cartItems]);\r\n\r\n\treturn (\r\n\t\t<CartContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tcartItems,\r\n\t\t\t\tisInCart,\r\n\t\t\t\tgetItemsQty,\r\n\t\t\t\tgetCartTotal,\r\n\t\t\t\taddItem,\r\n\t\t\t\tupdateItemStock,\r\n\t\t\t\tupdateItemQty,\r\n\t\t\t\tremoveItem,\r\n\t\t\t\tclearCart,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</CartContext.Provider>\r\n\t);\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n\tconst { pathname } = useLocation();\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.scrollTo(0, 0);\r\n\t}, [pathname]);\r\n\r\n\treturn null;\r\n}\r\n","import React, { createContext, useContext, useState } from \"react\";\r\n\r\nexport const DropdownsContext = createContext();\r\nexport const useDropdownsContext = () => useContext(DropdownsContext);\r\n\r\nexport function DropdownsProvider({ children }) {\r\n\tconst [mobNavOpened, setMobNavOpened] = useState(\"\");\r\n\tconst [catDropdownOpened, setCatDropdownOpened] = useState(\"\");\r\n\r\n\tconst closeDropdowns = () => {\r\n\t\tsetMobNavOpened(\"\");\r\n\t\tsetCatDropdownOpened(\"\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<DropdownsContext.Provider\r\n\t\t\tvalue={{ mobNavOpened, setMobNavOpened, catDropdownOpened, setCatDropdownOpened, closeDropdowns }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</DropdownsContext.Provider>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { useCartContext } from \"../Contexts/CartContext\";\r\nimport \"./CartWidget.scss\";\r\n\r\nexport default function CartWidget() {\r\n\tconst { getItemsQty } = useCartContext();\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{getItemsQty() > 0 && (\r\n\t\t\t\t<div className=\"cartWidget\">\r\n\t\t\t\t\t<img className=\"cartButton\" src={\"https://i.ibb.co/vmrYNNp/cart.png\"} alt={\"Carrito\"}></img>\r\n\t\t\t\t\t<p>{getItemsQty()}</p>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { useDropdownsContext } from \"./DropdownsContext\";\r\nimport { useBooksContext } from \"../Contexts/BooksContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./CategoriesDropdown.scss\";\r\n\r\nexport default function CategoriesDropdown() {\r\n\tconst { categories } = useBooksContext();\r\n\tconst { catDropdownOpened, setCatDropdownOpened, closeDropdowns } = useDropdownsContext();\r\n\r\n\tuseEffect(() => {\r\n\t\t//SETS OPENED AFTER A SECOND TO FORCE TRANSITION EFFECT\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetCatDropdownOpened(\"opened\");\r\n\t\t}, 1);\r\n\t}, [setCatDropdownOpened]);\r\n\r\n\treturn (\r\n\t\t<div className={\"categoriesDropdown \" + catDropdownOpened}>\r\n\t\t\t<ul>\r\n\t\t\t\t{categories &&\r\n\t\t\t\t\tcategories.map((category) => (\r\n\t\t\t\t\t\t<li key={category.id} className=\"category\">\r\n\t\t\t\t\t\t\t<Link to={`/categories/${category.id}`} onClick={closeDropdowns}>\r\n\t\t\t\t\t\t\t\t{category.title}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useDropdownsContext } from \"./DropdownsContext\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport CartWidget from \"./CartWidget\";\r\nimport CategoriesDropdown from \"./CategoriesDropdown\";\r\n\r\nimport \"./NavMenu.scss\";\r\n\r\nexport default function NavMenu() {\r\n\tconst [dropdownOpened, setDropdownOpened] = useState(false);\r\n\tconst { closeDropdowns } = useDropdownsContext();\r\n\r\n\treturn (\r\n\t\t<ul className=\"navbar-nav\">\r\n\t\t\t{/* HOME */}\r\n\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t<NavLink className=\"nav-link\" activeClassName=\"active\" exact to=\"/\" onClick={closeDropdowns}>\r\n\t\t\t\t\tInicio\r\n\t\t\t\t</NavLink>\r\n\t\t\t</li>\r\n\r\n\t\t\t{/* CONTACT */}\r\n\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t<NavLink className=\"nav-link\" activeClassName=\"active\" exact to=\"/contact\" onClick={closeDropdowns}>\r\n\t\t\t\t\tContacto\r\n\t\t\t\t</NavLink>\r\n\t\t\t</li>\r\n\r\n\t\t\t{/* CATEGORIES */}\r\n\t\t\t<div>\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName=\"nav-item categories\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetDropdownOpened(!dropdownOpened);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tCategorías\r\n\t\t\t\t</li>\r\n\t\t\t\t{dropdownOpened && <CategoriesDropdown />}\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* ADMIN */}\r\n\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t<Link to=\"/admin\" onClick={closeDropdowns}>\r\n\t\t\t\t\tLogin\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\r\n\t\t\t{/* CART */}\r\n\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t<Link to=\"/cart\" onClick={closeDropdowns}>\r\n\t\t\t\t\t<CartWidget />\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport NavMenu from \"./NavMenu\";\r\n\r\nexport default function Navigation() {\r\n\treturn (\r\n\t\t<div className=\"navMenu navigation\">\r\n\t\t\t<NavMenu />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useDropdownsContext } from \"./DropdownsContext\";\r\nimport NavMenu from \"./NavMenu\";\r\nimport { CgMenu } from \"react-icons/cg\";\r\n\r\nexport default function MobileNavigation() {\r\n\tconst [navMenuOpened, setNavMenuOpened] = useState(false);\r\n\tconst { mobNavOpened, setMobNavOpened } = useDropdownsContext();\r\n\r\n\treturn (\r\n\t\t<div className=\"mobileNavigation\">\r\n\t\t\t<CgMenu\r\n\t\t\t\tclassName=\"hamburgerButton\"\r\n\t\t\t\tsize=\"40px\"\r\n\t\t\t\tcolor=\"black\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetNavMenuOpened(!navMenuOpened);\r\n\r\n\t\t\t\t\t//SETS OPENED AFTER A SECOND TO FORCE TRANSITION EFFECT\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t!navMenuOpened ? setMobNavOpened(\"opened\") : setMobNavOpened(\"\");\r\n\t\t\t\t\t}, 1);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t{navMenuOpened && (\r\n\t\t\t\t<div className={\"navMenu \" + mobNavOpened}>\r\n\t\t\t\t\t<NavMenu />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { DropdownsProvider } from \"./DropdownsContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Navigation from \"./Navigation\";\r\nimport MobileNavigation from \"./MobileNavigation\";\r\nimport \"./Navbar.scss\";\r\n\r\nexport default function Navbar() {\r\n\treturn (\r\n\t\t<DropdownsProvider>\r\n\t\t\t<nav className=\"nav navbar-expand-md\">\r\n\t\t\t\t{/* NAV BRAND */}\r\n\t\t\t\t<div className=\"nav__brand\">\r\n\t\t\t\t\t<Link className=\"nav__logo\" to=\"/\">\r\n\t\t\t\t\t\t<img src=\"https://i.ibb.co/6n2wKTt/Biblio-Tech-logo.png\" alt=\"LOGO\" />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<h1 className=\"nav__title\">BiblioTech</h1>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* NAVIGATION */}\r\n\t\t\t\t<Navigation />\r\n\t\t\t\t<MobileNavigation />\r\n\t\t\t</nav>\r\n\t\t</DropdownsProvider>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Book.scss\";\r\n\r\nexport default function Book({ id, title, price, imgUrl }) {\r\n\treturn (\r\n\t\t<li className=\"bookCard\">\r\n\t\t\t<div className=\"bookCardHeader\">\r\n\t\t\t\t<img src={imgUrl} alt=\"Carátula\" />\r\n\t\t\t\t<h4>{title}</h4>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"bookCardDetails\">\r\n\t\t\t\t<Link to={`/book/${id}`}>\r\n\t\t\t\t\t<button>Ver descripción</button>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<p>${price}</p>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport \"./Category.scss\";\r\n\r\nexport default function Category({ name, children }) {\r\n\treturn (\r\n\t\t<section className=\"booksCategory\">\r\n\t\t\t<h3>{name}</h3>\r\n\t\t\t<div className=\"booksGrid\">{children}</div>\r\n\t\t</section>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { useBooksContext } from \"../../Contexts/BooksContext\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Book from \"./Book\";\r\nimport Category from \"./Category\";\r\n\r\nexport default function BooksList() {\r\n\tconst { categories, books } = useBooksContext();\r\n\tconst { categoryId } = useParams();\r\n\r\n\tconst getBooksSortedByCategory = (category) => {\r\n\t\treturn books\r\n\t\t\t.filter((book) => book.category === category)\r\n\t\t\t.map((book) => (\r\n\t\t\t\t<Book id={book.id} title={book.title} price={book.price} imgUrl={book.imgUrl} key={book.id} />\r\n\t\t\t));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"booksList\">\r\n\t\t\t{/* Show all categories */}\r\n\t\t\t{categories &&\r\n\t\t\t\tbooks &&\r\n\t\t\t\t!categoryId &&\r\n\t\t\t\tcategories.map((category) => (\r\n\t\t\t\t\t<Category key={category.id} name={category.title}>\r\n\t\t\t\t\t\t{getBooksSortedByCategory(category.id)}\r\n\t\t\t\t\t</Category>\r\n\t\t\t\t))}\r\n\r\n\t\t\t{/* Show searched category */}\r\n\t\t\t{categories &&\r\n\t\t\t\tbooks &&\r\n\t\t\t\tcategoryId &&\r\n\t\t\t\tcategories\r\n\t\t\t\t\t.filter((category) => category.id === categoryId)\r\n\t\t\t\t\t.map((category) => (\r\n\t\t\t\t\t\t<Category key={category.id} name={category.title}>\r\n\t\t\t\t\t\t\t{getBooksSortedByCategory(category.id)}\r\n\t\t\t\t\t\t</Category>\r\n\t\t\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { useBooksContext } from \"../../Contexts/BooksContext\";\r\nimport BooksList from \"./BooksList\";\r\nimport \"./BooksListContainer.scss\";\r\n\r\nexport default function BooksListContainer() {\r\n\tconst { loading, error, categories, books } = useBooksContext();\r\n\r\n\treturn (\r\n\t\t<div className={\"booksListContainer\"}>\r\n\t\t\t<h2>Libros</h2>\r\n\r\n\t\t\t{loading && <h3>Cargando libros...</h3>}\r\n\t\t\t{error && <h3>Error al cargar libros.</h3>}\r\n\t\t\t{!loading && categories && books && <BooksList />}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport \"./RequestBookForm.scss\";\r\n\r\nexport default function RequestBookForm() {\r\n\treturn (\r\n\t\t<form className=\"requestBookForm\" action=\"\">\r\n\t\t\t<h3>Pedinos un libro que no tengamos!</h3>\r\n\r\n\t\t\t<div className=\"inputsContainer\">\r\n\t\t\t\t<fieldset>\r\n\t\t\t\t\t<label htmlFor=\"name\">Nombre</label>\r\n\t\t\t\t\t<input id=\"name\" name=\"name\" type=\"text\" placeholder=\"Escriba su nombre...\" />\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<fieldset>\r\n\t\t\t\t\t<label htmlFor=\"mail\">Correo Electrónico</label>\r\n\t\t\t\t\t<input id=\"mail\" name=\"mail\" type=\"text\" placeholder=\"Escriba su correo electrónico...\" />\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<fieldset>\r\n\t\t\t\t\t<label htmlFor=\"book\">Libro</label>\r\n\t\t\t\t\t<input id=\"book\" name=\"book\" type=\"text\" placeholder=\"Escriba el nombre del libro...\" />\r\n\t\t\t\t</fieldset>\r\n\t\t\t</div>\r\n\r\n\t\t\t<button type=\"submit\">Enviar</button>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport \"./InquiryForm.scss\";\r\n\r\nexport default function InquiryForm() {\r\n\treturn (\r\n\t\t<form className=\"inquiryForm\" action=\"\">\r\n\t\t\t<h3>Dejanos tu consulta o sugerencia!</h3>\r\n\t\t\t<div className=\"inputsContainer\">\r\n\t\t\t\t<fieldset>\r\n\t\t\t\t\t<label htmlFor=\"name\">Nombre</label>\r\n\t\t\t\t\t<input id=\"name\" name=\"name\" type=\"text\" placeholder=\"Escriba su nombre...\" />\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<fieldset>\r\n\t\t\t\t\t<label htmlFor=\"mail\">Correo Electrónico</label>\r\n\t\t\t\t\t<input id=\"mail\" name=\"mail\" type=\"text\" placeholder=\"Escriba su correo electrónico...\" />\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<fieldset>\r\n\t\t\t\t\t<label htmlFor=\"message\">Mensaje</label>\r\n\t\t\t\t\t<textarea id=\"message\" name=\"message\" type=\"text\" placeholder=\"Escriba su mensaje...\" />\r\n\t\t\t\t</fieldset>\r\n\t\t\t</div>\r\n\t\t\t<button type=\"submit\">Enviar</button>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport RequestBookForm from \"./RequestBookForm.js\";\r\nimport InquiryForm from \"./InquiryForm.js\";\r\nimport \"./ContactContainer.scss\";\r\n\r\nexport default function ContactContainer() {\r\n\treturn (\r\n\t\t<div className=\"contactContainer\">\r\n\t\t\t<h2>Contacto</h2>\r\n\r\n\t\t\t<div className=\"contactFormsContainer\">\r\n\t\t\t\t<RequestBookForm />\r\n\t\t\t\t<InquiryForm />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { IoMdAddCircleOutline } from \"react-icons/io\";\r\nimport { IoMdRemoveCircleOutline } from \"react-icons/io\";\r\n\r\nimport \"./Counter.scss\";\r\n\r\nexport default function Counter({ max, qty, setQty }) {\r\n\tconst handleSubstract = () => {\r\n\t\tif (qty > 1) setQty(qty - 1);\r\n\t};\r\n\r\n\tconst handleAdd = () => {\r\n\t\tif (qty < max) setQty(qty + 1);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"counterContainer\">\r\n\t\t\t<IoMdRemoveCircleOutline className=\"counterButton\" size=\"40px\" color=\"white\" onClick={handleSubstract} />\r\n\t\t\t<p>{qty}</p>\r\n\t\t\t<IoMdAddCircleOutline className=\"counterButton\" size=\"40px\" color=\"white\" onClick={handleAdd} />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Counter from \"../Counter/Counter\";\r\n\r\nexport default function DetailsCounter({ max, handleAddItem }) {\r\n\tconst [qty, setQty] = useState(max !== 0 ? 1 : 0);\r\n\r\n\treturn (\r\n\t\t<div className=\"addToCart\">\r\n\t\t\t<Counter max={max} qty={qty <= max ? qty : max} setQty={setQty} />\r\n\r\n\t\t\t<button\r\n\t\t\t\tdisabled={max === 0 ? true : false}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\thandleAddItem(qty);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tAgregar al Carrito\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./GoToCart.scss\";\r\n\r\nexport default function GoToCart() {\r\n\treturn (\r\n\t\t<div className=\"goToCart\">\r\n\t\t\t<p>Agregado al carrito!</p>\r\n\t\t\t<Link to=\"/cart\">\r\n\t\t\t\t<button>Finalizar Compra</button>\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useCartContext } from \"../../Contexts/CartContext\";\r\nimport DetailsCounter from \"./DetailsCounter\";\r\nimport GoToCart from \"./GoToCart\";\r\nimport \"./BookDetails.scss\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function BookDetails({ book }) {\r\n\tconst { title, description, price, imgUrl, stock } = book;\r\n\tconst { addItem, isInCart } = useCartContext();\r\n\tconst [itemAdded, setItemAdded] = useState(false);\r\n\r\n\tconst handleAddItem = (qty) => {\r\n\t\taddItem(book, qty);\r\n\t\tsetItemAdded(true);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetItemAdded(isInCart(book.id));\r\n\t}, [book, isInCart]);\r\n\r\n\treturn (\r\n\t\t<div className=\"bookDetails\">\r\n\t\t\t<h3>{title}</h3>\r\n\t\t\t<div className=\"bookInfo\">\r\n\t\t\t\t<div className=\"bookItemCard\">\r\n\t\t\t\t\t<img src={imgUrl} alt=\"Carátula\" />\r\n\t\t\t\t\t<div className=\"bookItemPurchase\">\r\n\t\t\t\t\t\t{/* CHECKS IF ITEM IS ADDED TO CART */}\r\n\t\t\t\t\t\t{!itemAdded ? <DetailsCounter max={stock} handleAddItem={handleAddItem} /> : <GoToCart />}\r\n\r\n\t\t\t\t\t\t<div className=\"priceAndStock\">\r\n\t\t\t\t\t\t\t<p className=\"price\">${price}</p>\r\n\t\t\t\t\t\t\t<p className=\"stock\">{`Stock: ${stock}`}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"bookDescription\">\r\n\t\t\t\t\t<h4>Descripción</h4>\r\n\t\t\t\t\t<p>{description}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useBooksContext } from \"../../Contexts/BooksContext\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport BookDetails from \"./BookDetails.js\";\r\nimport \"./BookDetailsContainer.scss\";\r\n\r\nexport default function BookDetailsContainer() {\r\n\tconst { loading, error, books } = useBooksContext();\r\n\tconst { bookId } = useParams();\r\n\tconst [notFound, setNotFound] = useState(false);\r\n\tconst [book, setBook] = useState({});\r\n\r\n\tuseEffect(() => {\r\n\t\t//TRIES TO FIND THE BOOK\r\n\t\tif (books) {\r\n\t\t\tsetBook(books.find((book) => book.id === Number(bookId)));\r\n\t\t\t!loading && !book ? setNotFound(true) : setNotFound(false);\r\n\t\t}\r\n\t}, [books, bookId, loading, book]);\r\n\r\n\treturn (\r\n\t\t<div className=\"bookDetailsContainer\">\r\n\t\t\t<h2>Detalles</h2>\r\n\r\n\t\t\t{loading && <h3>Cargando libro...</h3>}\r\n\t\t\t{!loading && notFound && <h3>No se ha encontrado ese libro.</h3>}\r\n\t\t\t{error && <h3>Error al cargar el libro.</h3>}\r\n\t\t\t{!loading && book && <BookDetails book={book} />}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./NoItemsAdded.scss\";\r\n\r\nexport default function NoItemsAdded() {\r\n\treturn (\r\n\t\t<div className=\"noItemsAdded\">\r\n\t\t\t<h3>El carrito está vacío.</h3>\r\n\t\t\t<Link to=\"/\">\r\n\t\t\t\t<button>AGREGAR LIBROS</button>\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { FiTrash } from \"react-icons/fi\";\r\nimport Counter from \"../Counter/Counter\";\r\nimport { useCartContext } from \"../../Contexts/CartContext\";\r\n\r\nimport \"./Item.scss\";\r\n\r\nexport default function Item({ id, title, stock, qty, subtotal }) {\r\n\tconst { updateItemQty, removeItem } = useCartContext();\r\n\r\n\tconst handleUpdateQty = (qty) => {\r\n\t\tupdateItemQty(id, qty);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"item\">\r\n\t\t\t<div className=\"titleDiv\">\r\n\t\t\t\t<h5>{title}</h5>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"qtyDiv\">\r\n\t\t\t\t<Counter max={stock} qty={qty <= stock ? qty : stock} setQty={handleUpdateQty} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"subtotalDiv\">\r\n\t\t\t\t<p>$ {subtotal}</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"removeDiv\">\r\n\t\t\t\t<FiTrash\r\n\t\t\t\t\tclassName=\"removeButton\"\r\n\t\t\t\t\tsize=\"25px\"\r\n\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tremoveItem(id);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { useCartContext } from \"../../Contexts/CartContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport NoItemsAdded from \"./NoItemsAdded\";\r\nimport Item from \"./Item\";\r\nimport \"./Cart.scss\";\r\n\r\nexport default function Cart() {\r\n\tconst { clearCart, cartItems, getCartTotal } = useCartContext();\r\n\r\n\treturn (\r\n\t\t<div className=\"cart\">\r\n\t\t\t<h3>Libros Agregados</h3>\r\n\t\t\t<div className=\"itemList\">\r\n\t\t\t\t<div className=\"list\">\r\n\t\t\t\t\t<div className=\"columns\">\r\n\t\t\t\t\t\t<h4 className=\"titleColumn\">Título</h4>\r\n\t\t\t\t\t\t<h4 className=\"qtyColumn\">Cantidad</h4>\r\n\t\t\t\t\t\t<h4 className=\"qtyColumnShort\">Cant.</h4>\r\n\t\t\t\t\t\t<h4 className=\"subtotalColumn\">Subtotal</h4>\r\n\t\t\t\t\t\t<h4 className=\"subtotalColumnShort\">Subt.</h4>\r\n\t\t\t\t\t\t<h4 className=\"removeColumn\">Eliminar</h4>\r\n\t\t\t\t\t\t<h4 className=\"removeColumnShort\">Elim.</h4>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{cartItems.length > 0 ? (\r\n\t\t\t\t\t\tcartItems.map((item) => (\r\n\t\t\t\t\t\t\t<Item\r\n\t\t\t\t\t\t\t\tkey={item.item.id}\r\n\t\t\t\t\t\t\t\tid={item.item.id}\r\n\t\t\t\t\t\t\t\ttitle={item.item.title}\r\n\t\t\t\t\t\t\t\tstock={item.item.stock}\r\n\t\t\t\t\t\t\t\tqty={item.qty}\r\n\t\t\t\t\t\t\t\tsubtotal={item.subtotal}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<NoItemsAdded />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"totalDiv\">\r\n\t\t\t\t\t<h4>Total: $ {getCartTotal()}</h4>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"cartButtons\">\r\n\t\t\t\t<button type=\"reset\" onClick={clearCart}>\r\n\t\t\t\t\tLimpiar\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<Link to=\"/checkout\">\r\n\t\t\t\t\t<button type=\"button\">Pagar</button>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport Cart from \"./Cart\";\r\nimport \"./CartContainer.scss\";\r\n\r\nexport default function CartContainer() {\r\n\treturn (\r\n\t\t<div className=\"cartContainer\">\r\n\t\t\t<h2>Carrito</h2>\r\n\t\t\t<div className=\"cartSection\">\r\n\t\t\t\t<Cart />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./CheckoutForm.scss\";\r\n\r\nexport default function CheckoutForm({ generateOrder }) {\r\n\tconst [buyer, setBuyer] = useState(\r\n\t\tJSON.parse(localStorage.getItem(\"buyer\")) || {\r\n\t\t\tname: \"\",\r\n\t\t\tphone: \"\",\r\n\t\t\tmail: \"\",\r\n\t\t}\r\n\t);\r\n\r\n\tconst [validateMessages, setValidateMessages] = useState({ name: \"\", phone: \"\", mail: \"\" });\r\n\r\n\tconst validateInputs = ({ name, phone, mail }) => {\r\n\t\tlet validateMessagesCopy = { name: \"\", phone: \"\", mail: \"\" };\r\n\r\n\t\tif (!(name.length >= 3)) {\r\n\t\t\tvalidateMessagesCopy = {\r\n\t\t\t\t...validateMessagesCopy,\r\n\t\t\t\tname: \"El nombre tiene que tener como mínimo tres caracteres.\",\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (!(phone.length >= 9)) {\r\n\t\t\tvalidateMessagesCopy = {\r\n\t\t\t\t...validateMessagesCopy,\r\n\t\t\t\tphone: \"El número tiene que tener como mínimo nueve caracteres.\",\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (!mail.includes(\"@\")) {\r\n\t\t\tvalidateMessagesCopy = {\r\n\t\t\t\t...validateMessagesCopy,\r\n\t\t\t\tmail: \"El correo introducido no es válido.\",\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tsetValidateMessages(validateMessagesCopy);\r\n\r\n\t\treturn name.length >= 3 && phone.length >= 9 && mail.includes(\"@\") ? true : false;\r\n\t};\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tconst { name, value } = e.target;\r\n\t\tlet buyerCopy = { ...buyer };\r\n\r\n\t\tbuyerCopy = { ...buyerCopy, [name]: value };\r\n\r\n\t\tsetBuyer(buyerCopy);\r\n\t\tvalidateInputs(buyerCopy);\r\n\t};\r\n\r\n\tconst handlePay = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (validateInputs(buyer)) generateOrder(buyer);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\t//SAVES BUYER IN LOCAL STORAGE\r\n\t\tlocalStorage.setItem(\"buyer\", JSON.stringify(buyer));\r\n\t}, [buyer]);\r\n\r\n\treturn (\r\n\t\t<form className=\"checkoutForm\" action=\"\">\r\n\t\t\t<h3>Ingrese los datos del titular!</h3>\r\n\r\n\t\t\t<div className=\"inputsContainer\">\r\n\t\t\t\t<fieldset>\r\n\t\t\t\t\t<label htmlFor=\"name\">Nombre</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\ttitle=\"Como mínimo 3 caracteres.\"\r\n\t\t\t\t\t\tvalue={buyer.name}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tplaceholder=\"Escriba su nombre...\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p>{validateMessages.name}</p>\r\n\t\t\t\t</fieldset>\r\n\r\n\t\t\t\t<fieldset>\r\n\t\t\t\t\t<label htmlFor=\"phone\">Teléfono</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"phone\"\r\n\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\ttitle=\"3335000111 ó 155000111\"\r\n\t\t\t\t\t\tvalue={buyer.phone}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tplaceholder=\"Escriba su número de teléfono...\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p>{validateMessages.phone}</p>\r\n\t\t\t\t</fieldset>\r\n\r\n\t\t\t\t<fieldset>\r\n\t\t\t\t\t<label htmlFor=\"mail\">Correo Electrónico</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"mail\"\r\n\t\t\t\t\t\tname=\"mail\"\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\ttitle=\"correoelectronico@mail.com\"\r\n\t\t\t\t\t\tvalue={buyer.mail}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tplaceholder=\"Escriba su correo electrónico...\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p>{validateMessages.mail}</p>\r\n\t\t\t\t</fieldset>\r\n\t\t\t</div>\r\n\r\n\t\t\t<button type=\"submit\" onClick={handlePay}>\r\n\t\t\t\tPagar\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Order.scss\";\r\n\r\nexport default function Order({ orderId }) {\r\n\treturn (\r\n\t\t<div className=\"order\">\r\n\t\t\t<h3>La orden ha sido enviada!</h3>\r\n\t\t\t<p>CÓDIGO DE ORDEN: {orderId}</p>\r\n\t\t\t<Link to=\"/\">\r\n\t\t\t\t<button>INICIO</button>\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./ItemsOutOfStock.scss\";\r\n\r\nexport default function ItemsOutOfStock({ itemsOutOfStock }) {\r\n\treturn (\r\n\t\t<div className=\"itemsOutOfStock\">\r\n\t\t\t<h3>No hay stock suficiente para estos libros.</h3>\r\n\r\n\t\t\t<div className=\"outOfStockList\">\r\n\t\t\t\t{itemsOutOfStock.map((item) => (\r\n\t\t\t\t\t<li key={item.id}>{item.title}</li>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\r\n\t\t\t<Link to=\"/cart\">\r\n\t\t\t\t<button>CARRITO</button>\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useCartContext } from \"../../Contexts/CartContext\";\r\nimport firebase from \"firebase/app\";\r\nimport NoItemsAdded from \"../CartContainer/NoItemsAdded\";\r\nimport CheckoutForm from \"./CheckoutForm.js\";\r\nimport Order from \"./Order.js\";\r\nimport ItemsOutOfStock from \"./ItemsOutOfStock\";\r\nimport { checkItemsStock, sendNewOrder } from \"../../../model/model\";\r\nimport \"./CheckoutContainer.scss\";\r\n\r\nexport default function CheckoutContainer() {\r\n\tconst { getItemsQty, clearCart, cartItems, getCartTotal, updateItemStock } = useCartContext();\r\n\r\n\tconst [sendingOrder, setSendingOrder] = useState(false);\r\n\tconst [error, setError] = useState(false);\r\n\r\n\tconst [itemsOutOfStock, setItemsOutOfStock] = useState([]);\r\n\tconst [orderPayed, setOrderPayed] = useState(false);\r\n\tconst [orderId, setOrderId] = useState(\"\");\r\n\r\n\tconst generateOrder = async (buyer) => {\r\n\t\ttry {\r\n\t\t\tsetSendingOrder(true);\r\n\r\n\t\t\t//MAPS REDUCED ARRAY OF ITEMS IN CART\r\n\t\t\tconst items = cartItems.map((item) => {\r\n\t\t\t\treturn { id: item.item.id, title: item.item.title, qty: item.qty, subtotal: item.subtotal };\r\n\t\t\t});\r\n\r\n\t\t\t//IF THERE IS STOCK...\r\n\t\t\tif (await checkItemsStock(items, setItemsOutOfStock, updateItemStock)) {\r\n\t\t\t\t//CREATES ORDER\r\n\t\t\t\tconst order = {\r\n\t\t\t\t\tbuyer: { ...buyer },\r\n\t\t\t\t\titems: { ...items },\r\n\t\t\t\t\tdate: firebase.firestore.Timestamp.fromDate(new Date()),\r\n\t\t\t\t\ttotal: getCartTotal(),\r\n\t\t\t\t};\r\n\r\n\t\t\t\t//SENDS ORDER\r\n\t\t\t\tawait sendNewOrder(order, setOrderId);\r\n\r\n\t\t\t\tclearCart();\r\n\t\t\t\tsetOrderPayed(true);\r\n\t\t\t}\r\n\r\n\t\t\tsetSendingOrder(false);\r\n\t\t} catch (error) {\r\n\t\t\tsetError(true);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"checkoutContainer\">\r\n\t\t\t<h2>Checkout</h2>\r\n\r\n\t\t\t<div className=\"checkoutFormContainer\">\r\n\t\t\t\t{/* IF CART IS NOT EMPTY SHOW CHECKOUT FORM */}\r\n\t\t\t\t{getItemsQty() > 0 && !sendingOrder && itemsOutOfStock.length === 0 && (\r\n\t\t\t\t\t<CheckoutForm generateOrder={generateOrder} />\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{/* NOTIFIES IF ORDER IS BEING SENT OR ERROR OCURRED */}\r\n\t\t\t\t{sendingOrder && <h3>Enviando orden...</h3>}\r\n\t\t\t\t{error && <h3>Se produjo un error al enviar la orden.</h3>}\r\n\r\n\t\t\t\t{/* CHECKS IF ORDER IS PAYED OR CART IS EMPTY */}\r\n\t\t\t\t{getItemsQty() === 0 && (orderPayed ? <Order orderId={orderId} /> : <NoItemsAdded />)}\r\n\r\n\t\t\t\t{/* SHOWS ITEMS OUT OF STOCK */}\r\n\t\t\t\t{itemsOutOfStock.length > 0 && <ItemsOutOfStock itemsOutOfStock={itemsOutOfStock} />}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./LoginForm.scss\";\r\n\r\nexport default function LoginForm({ handleLogin }) {\r\n\tconst [user, setUser] = useState({ username: \"\", password: \"\" });\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tconst { name, value } = e.target;\r\n\r\n\t\tsetUser({\r\n\t\t\t...user,\r\n\t\t\t[name]: value,\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName=\"loginForm\"\r\n\t\t\tonSubmit={(e) => {\r\n\t\t\t\thandleLogin(e, user);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"inputsContainer\">\r\n\t\t\t\t<fieldset>\r\n\t\t\t\t\t<label htmlFor=\"username\">Usuario</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={user.username}\r\n\t\t\t\t\t\tplaceholder=\"Escriba su username...\"\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</fieldset>\r\n\r\n\t\t\t\t<fieldset>\r\n\t\t\t\t\t<label htmlFor=\"password\">Contraseña</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tvalue={user.password}\r\n\t\t\t\t\t\tplaceholder=\"Escriba su contraseña...\"\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</fieldset>\r\n\t\t\t</div>\r\n\r\n\t\t\t<button type=\"submit\">Ingresar</button>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./Item.scss\";\r\n\r\nexport default function Item({ book, changeStock }) {\r\n\tconst [stock, setStock] = useState(book.stock);\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tconst stock = e.target.value;\r\n\t\tsetStock(stock);\r\n\t\tchangeStock(book.id, stock);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<li className=\"item\">\r\n\t\t\t<div className=\"titleDiv\">\r\n\t\t\t\t<h4>{book.title}</h4>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"stockDiv\">\r\n\t\t\t\t<input type=\"number\" value={stock} onChange={handleChange} />\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useBooksContext } from \"../../Contexts/BooksContext\";\r\nimport Item from \"./Item\";\r\n\r\nimport \"./StockPanel.scss\";\r\n\r\nexport default function StockPanel() {\r\n\tconst { books, loadStock, updatingStock, stockUpdated, stockError } = useBooksContext();\r\n\tconst [booksToSend, setBooksToSend] = useState([...books]);\r\n\r\n\tconst changeStock = (id, stock) => {\r\n\t\tconst booksCopy = [...booksToSend];\r\n\r\n\t\tbooksCopy.find((book) => book.id === id).stock = stock;\r\n\r\n\t\tsetBooksToSend(booksCopy);\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tloadStock(booksToSend);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"stockPanel\" onSubmit={handleSubmit}>\r\n\t\t\t<h3>Stock</h3>\r\n\r\n\t\t\t{!stockError && !updatingStock && (\r\n\t\t\t\t<div className=\"itemList\">\r\n\t\t\t\t\t{booksToSend &&\r\n\t\t\t\t\t\tbooksToSend.map((book) => <Item key={book.id} book={book} changeStock={changeStock} />)}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{!stockError && updatingStock && <h4>Cargando stock...</h4>}\r\n\r\n\t\t\t{stockError && <h4>Se produjo un error al cargar stock.</h4>}\r\n\r\n\t\t\t{stockUpdated && <h4>Stock Cargado!</h4>}\r\n\r\n\t\t\t<button disabled={stockError || updatingStock} type=\"submit\">\r\n\t\t\t\tCargar Stock\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { validateAdmin } from \"../../../model/model\";\r\nimport LoginForm from \"./LoginForm\";\r\nimport StockPanel from \"./StockPanel\";\r\n\r\nimport \"./AdminContainer.scss\";\r\n\r\nexport default function AdminContainer() {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState(false);\r\n\tconst [adminLogged, setAdminLogged] = useState(false);\r\n\r\n\tconst handleLogin = async (e, user) => {\r\n\t\te.preventDefault();\r\n\t\tsetLoading(true);\r\n\r\n\t\ttry {\r\n\t\t\tconst userExist = await validateAdmin(user);\r\n\t\t\tsetAdminLogged(userExist);\r\n\t\t\tsetLoading(false);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t\tsetError(true);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"adminContainer\">\r\n\t\t\t<h2>Panel de Administrador</h2>\r\n\r\n\t\t\t<div className=\"adminPanels\">\r\n\t\t\t\t{!loading && !adminLogged && <LoginForm handleLogin={handleLogin} />}\r\n\t\t\t\t{loading && <h3>Validando...</h3>}\r\n\t\t\t\t{error && <h3>Se produjo un error...</h3>}\r\n\t\t\t\t{!loading && adminLogged && <StockPanel></StockPanel>}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport { BooksProvider } from \"./components/Contexts/BooksContext\";\r\nimport { CartProvider } from \"./components/Contexts/CartContext\";\r\nimport ScrollToTop from \"./components/ScrollToTop\";\r\nimport Navbar from \"./components/Header/Navbar\";\r\nimport BooksListContainer from \"./components/Main/BooksListContainer/BooksListContainer.js\";\r\nimport ContactContainer from \"./components/Main/ContactContainer/ContactContainer.js\";\r\nimport BookDetailsContainer from \"./components/Main/BookDetailsContainer/BookDetailsContainer\";\r\nimport CartContainer from \"./components/Main/CartContainer/CartContainer.js\";\r\nimport CheckoutContainer from \"./components/Main/CheckoutContainer/CheckoutContainer\";\r\nimport AdminContainer from \"./components/Main/AdminContainer/AdminContainer\";\r\n\r\nimport \"./global-styles/main.scss\";\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<BooksProvider>\r\n\t\t\t<CartProvider>\r\n\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t<BrowserRouter>\r\n\t\t\t\t\t\t<ScrollToTop />\r\n\t\t\t\t\t\t<header className={\"header fixed-top\"}>\r\n\t\t\t\t\t\t\t<Navbar />\r\n\t\t\t\t\t\t</header>\r\n\r\n\t\t\t\t\t\t<main>\r\n\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t\t\t\t<BooksListContainer />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t\t\t<Route exact path=\"/bibliotech\">\r\n\t\t\t\t\t\t\t\t\t<BooksListContainer />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t\t\t<Route exact path=\"/categories/:categoryId\">\r\n\t\t\t\t\t\t\t\t\t<BooksListContainer />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t\t\t<Route exact path=\"/book/:bookId\">\r\n\t\t\t\t\t\t\t\t\t<BookDetailsContainer />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t\t\t<Route exact path=\"/contact\">\r\n\t\t\t\t\t\t\t\t\t<ContactContainer />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t\t\t<Route exact path=\"/cart\">\r\n\t\t\t\t\t\t\t\t\t<CartContainer />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t\t\t<Route exact path=\"/checkout\">\r\n\t\t\t\t\t\t\t\t\t<CheckoutContainer />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t\t\t<Route exact path=\"/admin\">\r\n\t\t\t\t\t\t\t\t\t<AdminContainer />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t\t\t<Route path=\"*\">\r\n\t\t\t\t\t\t\t\t\t<h2>Error 404 - Página no encontrada...</h2>\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t</main>\r\n\t\t\t\t\t</BrowserRouter>\r\n\t\t\t\t</div>\r\n\t\t\t</CartProvider>\r\n\t\t</BooksProvider>\r\n\t);\r\n}\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}