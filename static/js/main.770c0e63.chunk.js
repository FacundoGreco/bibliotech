(this.webpackJsonpbibliotech=this.webpackJsonpbibliotech||[]).push([[0],{42:function(e,t,c){},44:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(3),i=c.n(n),s=c(34),a=c.n(s),r=c(5),o=c(10),j=(c(42),c(2));function l(){return Object(j.jsx)("img",{className:"cartButton",src:"https://i.ibb.co/vmrYNNp/cart.png",alt:"Carrito"})}c(44);function b(e){var t=e.categories,c=Object(n.useState)(""),i=Object(r.a)(c,2),s=i[0],a=i[1];return Object(n.useEffect)((function(){setTimeout((function(){a("opened")}),1)}),[]),Object(j.jsx)("div",{className:"categoriesDropdown "+s,children:Object(j.jsx)("ul",{children:t&&t.map((function(e){return Object(j.jsx)("li",{className:"category",children:Object(j.jsx)(o.b,{to:"/categories/".concat(e.id),children:e.title})},e.id)}))})})}c(49);function d(e){var t=e.categories,c=Object(n.useState)(!1),i=Object(r.a)(c,2),s=i[0],a=i[1];return Object(j.jsxs)("ul",{className:"navbar-nav",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.c,{className:"nav-link",activeClassName:"active",exact:!0,to:"/",children:"Inicio"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.c,{className:"nav-link",activeClassName:"active",exact:!0,to:"/contact",children:"Contacto"})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("li",{className:"nav-item categories",onClick:function(){a(!s)},children:"Categor\xedas"}),s&&Object(j.jsx)(b,{categories:t})]}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/cart",children:Object(j.jsx)(l,{})})})]})}function u(e){var t=e.categories;return Object(j.jsx)("div",{className:"navMenu navigation",children:Object(j.jsx)(d,{categories:t})})}var O=c(36);function h(e){var t=e.categories,c=Object(n.useState)(!1),i=Object(r.a)(c,2),s=i[0],a=i[1],o=Object(n.useState)(""),l=Object(r.a)(o,2),b=l[0],u=l[1];return Object(j.jsxs)("div",{className:"mobileNavigation",children:[Object(j.jsx)(O.a,{className:"hamburgerButton",size:"40px",color:"black",onClick:function(){a(!s),setTimeout((function(){u(s?"":"opened")}),1)}}),s&&Object(j.jsx)("div",{className:"navMenu "+b,children:Object(j.jsx)(d,{categories:t})})]})}c(50);function m(e){var t=e.categories;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("nav",{className:"nav navbar-expand-md",children:[Object(j.jsxs)("div",{className:"nav__brand",children:[Object(j.jsx)(o.b,{className:"nav__logo",to:"/",children:Object(j.jsx)("img",{src:"https://i.ibb.co/6n2wKTt/Biblio-Tech-logo.png",alt:"LOGO"})}),Object(j.jsx)("h1",{className:"nav__title",children:"BiblioTech"})]}),Object(j.jsx)(u,{categories:t}),Object(j.jsx)(h,{categories:t})]})})}var x=c(6);c(51);function f(e){var t=e.id,c=e.title,n=(e.description,e.price),i=e.imgUrl;return Object(j.jsxs)("li",{className:"bookCard",children:[Object(j.jsxs)("div",{className:"bookCardHeader",children:[Object(j.jsx)("img",{src:i,alt:"Car\xe1tula"}),Object(j.jsx)("h4",{children:c})]}),Object(j.jsxs)("div",{className:"bookCardDetails",children:[Object(j.jsx)(o.b,{to:"/book/".concat(t),children:Object(j.jsx)("button",{children:"Ver descripci\xf3n"})}),Object(j.jsxs)("p",{children:["$",n]})]})]})}c(52);function p(e){var t=e.name,c=e.children;return Object(j.jsxs)("section",{className:"booksCategory",children:[Object(j.jsx)("h3",{children:t}),Object(j.jsx)("div",{className:"booksGrid",children:c})]})}function v(e){var t=e.categories,c=e.books,n=Object(x.f)().categoryId,i=function(e){return c.filter((function(t){return t.category===e})).map((function(e){return Object(j.jsx)(f,{id:e.id,title:e.title,description:e.description,price:e.price,imgUrl:e.imgUrl},e.id)}))};return Object(j.jsxs)("div",{className:"booksList",children:[t&&c&&!n&&t.map((function(e){return Object(j.jsx)(p,{name:e.title,children:i(e.id)},e.id)})),t&&c&&n&&t.filter((function(e){return e.id===n})).map((function(e){return Object(j.jsx)(p,{name:e.title,children:i(e.id)},e.id)}))]})}c(53);var g=c(20),N=c.n(g),C=c(32),k=c(29),y=c(30);c(67);y.a.initializeApp({apiKey:"AIzaSyAsW2WD3hH_rek18BtMjIMRFmJngwclrKQ",authDomain:"bibliotech-a10cc.firebaseapp.com",projectId:"bibliotech-a10cc",storageBucket:"bibliotech-a10cc.appspot.com",messagingSenderId:"938811057785",appId:"1:938811057785:web:a01a45c294e07229f596a8"});var S=y.a.firestore();function I(){return(I=Object(k.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,S.collection("categories").orderBy("booksQty","desc").onSnapshot((function(e){var c=[];e.forEach((function(e){c.push(Object(C.a)({},e.data()))})),t(c)})),e.next=8;break;case 4:throw e.prev=4,e.t0=e.catch(0),console.log(e.t0),new Error("Las categor\xedas no se pudieron cargar.");case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function E(e,t){return w.apply(this,arguments)}function w(){return(w=Object(k.a)(N.a.mark((function e(t,c){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,S.collection("books").orderBy("category","asc").orderBy("title","asc").onSnapshot((function(e){var n=[];e.forEach((function(e){n.push(Object(C.a)({},e.data()))})),t(n),c(!1)})),e.next=9;break;case 4:throw e.prev=4,e.t0=e.catch(0),console.log(e.t0),c(!1),new Error("Los mensajes no se pudieron cargar.");case 9:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function B(e){var t=e.categories,c=e.err,i=Object(n.useState)(!0),s=Object(r.a)(i,2),a=s[0],o=s[1],l=Object(n.useState)(c),b=Object(r.a)(l,2),d=b[0],u=b[1],O=Object(n.useState)([]),h=Object(r.a)(O,2),m=h[0],x=h[1];return Object(n.useEffect)((function(){E(x,o).catch((function(e){console.log(e),u(!0)}))}),[]),Object(j.jsxs)("div",{className:"booksListContainer",children:[Object(j.jsx)("h2",{children:"Libros"}),a&&Object(j.jsx)("h3",{children:"Cargando libros..."}),d&&Object(j.jsx)("h3",{children:"Error al cargar libros."}),!a&&t&&m&&Object(j.jsx)(v,{categories:t,books:m})]})}c(56),c(57);function F(){return Object(j.jsxs)("form",{className:"requestBookForm",action:"",children:[Object(j.jsx)("h3",{children:"Pedinos un libro que no tengamos!"}),Object(j.jsxs)("div",{className:"inputsContainer",children:[Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("label",{htmlFor:"name",children:"Nombre"}),Object(j.jsx)("input",{id:"name",name:"name",type:"text",placeholder:"Escriba su nombre..."})]}),Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("label",{htmlFor:"mail",children:"Correo Electr\xf3nico"}),Object(j.jsx)("input",{id:"mail",name:"mail",type:"text",placeholder:"Escriba su correo electr\xf3nico..."})]}),Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("label",{htmlFor:"book",children:"Libro"}),Object(j.jsx)("input",{id:"book",name:"book",type:"text",placeholder:"Escriba el nombre del libro..."})]})]}),Object(j.jsx)("button",{type:"submit",children:"Enviar"})]})}c(58);function D(){return Object(j.jsxs)("form",{className:"inquiryForm",action:"",children:[Object(j.jsx)("h3",{children:"Dejanos tu consulta o sugerencia!"}),Object(j.jsxs)("div",{className:"inputsContainer",children:[Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("label",{htmlFor:"name",children:"Nombre"}),Object(j.jsx)("input",{id:"name",name:"name",type:"text",placeholder:"Escriba su nombre..."})]}),Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("label",{htmlFor:"mail",children:"Correo Electr\xf3nico"}),Object(j.jsx)("input",{id:"mail",name:"mail",type:"text",placeholder:"Escriba su correo electr\xf3nico..."})]}),Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("label",{htmlFor:"message",children:"Mensaje"}),Object(j.jsx)("textarea",{id:"message",name:"message",type:"text",placeholder:"Escriba su mensaje..."})]})]}),Object(j.jsx)("button",{type:"submit",children:"Enviar"})]})}function q(){return Object(j.jsxs)("div",{className:"contactContainer",children:[Object(j.jsx)("h2",{children:"Contacto"}),Object(j.jsxs)("div",{className:"contactFormsContainer",children:[Object(j.jsx)(F,{}),Object(j.jsx)(D,{})]})]})}var L=c(23),A=Object(n.createContext)(),T=function(){return Object(n.useContext)(A)};function z(e){var t=e.children,c=Object(n.useState)(JSON.parse(localStorage.getItem("cartItems"))||[]),i=Object(r.a)(c,2),s=i[0],a=i[1],o=function(e){return s.some((function(t){return t.item.id===e}))};return Object(n.useEffect)((function(){localStorage.setItem("cartItems",JSON.stringify(s))}),[s]),Object(j.jsx)(A.Provider,{value:{cartItems:s,isInCart:o,addItem:function(e,t){if(!o(e.id)){var c=Object(L.a)(s);c.push({item:e,qty:t}),a(c)}},updateItemQty:function(e,t){var c=Object(L.a)(s);c.find((function(t){return t.item.id===e})).qty=t,a(c)},removeItem:function(e){var t=Object(L.a)(s);t=t.filter((function(t){return t.item.id!==e})),a(t)},clearCart:function(){a([])}},children:t})}var P=c(37),Q=c(22);c(59);function _(e){var t=e.max,c=e.qty,n=e.setQty;return Object(j.jsxs)("div",{className:"counterContainer",children:[Object(j.jsx)(Q.b,{className:"counterButton",size:"40px",color:"white",onClick:function(){c>1&&n(c-1)}}),Object(j.jsx)("p",{children:c}),Object(j.jsx)(Q.a,{className:"counterButton",size:"40px",color:"white",onClick:function(){c<t&&n(c+1)}})]})}c(60);function M(e){var t=e.id,c=e.title,n=e.stock,i=e.qty,s=T(),a=s.updateItemQty,r=s.removeItem;return Object(j.jsxs)("div",{className:"item",children:[Object(j.jsx)("div",{className:"titleDiv",children:Object(j.jsx)("h5",{children:c})}),Object(j.jsx)("div",{className:"qtyDiv",children:Object(j.jsx)(_,{max:n,qty:i,setQty:function(e){a(t,e)}})}),Object(j.jsx)("div",{className:"removeDiv",children:Object(j.jsx)(P.a,{className:"removeButton",size:"25px",color:"white",onClick:function(){r(t)}})})]})}c(61);function J(){var e=T(),t=e.clearCart,c=e.cartItems;return Object(j.jsxs)("div",{className:"cart",children:[Object(j.jsx)("h3",{children:"Libros Agregados"}),Object(j.jsxs)("div",{className:"itemList",children:[Object(j.jsxs)("div",{className:"columns",children:[Object(j.jsx)("h4",{className:"titleColumn",children:"T\xedtulo"}),Object(j.jsx)("h4",{className:"qtyColumn",children:"Cantidad"}),Object(j.jsx)("h4",{className:"qtyColumnShort",children:"Cant."}),Object(j.jsx)("h4",{className:"removeColumn",children:"Eliminar"}),Object(j.jsx)("h4",{className:"removeColumnShort",children:"Elim."})]}),c&&c.map((function(e){return Object(j.jsx)(M,{id:e.item.id,title:e.item.title,stock:e.item.stock,qty:e.qty},e.item.id)}))]}),Object(j.jsxs)("div",{className:"cartButtons",children:[Object(j.jsx)("button",{type:"reset",onClick:t,children:"Limpiar"}),Object(j.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault()},children:"Pagar"})]})]})}c(62);function U(){return Object(j.jsxs)("div",{className:"cartContainer",children:[Object(j.jsx)("h2",{children:"Carrito"}),Object(j.jsx)("div",{className:"cartSection",children:Object(j.jsx)(J,{})})]})}function K(e){var t=e.max,c=e.handleAddItem,i=Object(n.useState)(1),s=Object(r.a)(i,2),a=s[0],o=s[1];return Object(j.jsxs)("div",{className:"addToCart",children:[Object(j.jsx)(_,{max:t,qty:a,setQty:o}),Object(j.jsx)("button",{onClick:function(){c(a)},children:"Agregar al Carrito"})]})}c(63);function G(e){var t=e.book,c=t.title,i=t.description,s=t.price,a=t.imgUrl,l=t.stock,b=T(),d=b.addItem,u=b.isInCart,O=Object(n.useState)(u(t.id)),h=Object(r.a)(O,2),m=h[0],x=h[1];return Object(j.jsxs)("div",{className:"bookDetails",children:[Object(j.jsx)("h3",{children:c}),Object(j.jsxs)("div",{className:"bookInfo",children:[Object(j.jsxs)("div",{className:"bookItemCard",children:[Object(j.jsx)("img",{src:a,alt:"Car\xe1tula"}),Object(j.jsxs)("div",{className:"bookItemPurchase",children:[!m&&Object(j.jsx)(K,{max:l,handleAddItem:function(e){d(t,e),x(!0)}}),m&&Object(j.jsxs)("div",{className:"goToCart",children:[Object(j.jsx)("p",{children:"Agregado al carrito!"}),Object(j.jsx)(o.b,{to:"/cart",children:Object(j.jsx)("button",{children:"Finalizar Compra"})})]}),Object(j.jsxs)("div",{className:"priceAndStock",children:[Object(j.jsxs)("p",{className:"price",children:["$",s]}),Object(j.jsx)("p",{className:"stock",children:"Stock: ".concat(l)})]})]})]}),Object(j.jsxs)("div",{className:"bookDescription",children:[Object(j.jsx)("h4",{children:"Descripci\xf3n"}),Object(j.jsx)("p",{children:i})]})]})]})}c(64);function H(){var e=Object(x.f)().bookId,t=Object(n.useState)(!0),c=Object(r.a)(t,2),i=c[0],s=c[1],a=Object(n.useState)(!1),o=Object(r.a)(a,2),l=o[0],b=o[1],d=Object(n.useState)(!1),u=Object(r.a)(d,2),O=u[0],h=u[1],m=Object(n.useState)([]),f=Object(r.a)(m,2),p=f[0],v=f[1],g=Object(n.useState)({}),N=Object(r.a)(g,2),C=N[0],k=N[1];return Object(n.useEffect)((function(){e&&E(v,s).catch((function(e){console.log(e),h(!0)}))}),[e]),Object(n.useEffect)((function(){p&&k(p.find((function(t){return t.id===Number(e)})))}),[p,e]),Object(n.useEffect)((function(){b(!i&&!C)}),[C,e,i]),Object(j.jsxs)("div",{className:"bookDetailsContainer",children:[Object(j.jsx)("h2",{children:"Detalles"}),i&&Object(j.jsx)("h3",{children:"Cargando libro..."}),!i&&l&&Object(j.jsx)("h3",{children:"No se ha encontrado ese libro."}),O&&Object(j.jsx)("h3",{children:"Error al cargar el libro."}),!i&&C&&Object(j.jsx)(G,{book:C})]})}c(65);var W=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(!1),a=Object(r.a)(s,2),l=a[0],b=a[1];return Object(n.useEffect)((function(){(function(e){return I.apply(this,arguments)})(i).catch((function(e){console.log(e),b(!0)}))}),[]),Object(j.jsx)(z,{children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(o.a,{children:[Object(j.jsx)("header",{className:"header fixed-top",children:Object(j.jsx)(m,{categories:c})}),Object(j.jsx)("main",{children:Object(j.jsxs)(x.c,{children:[Object(j.jsx)(x.a,{exact:!0,path:"/",children:Object(j.jsx)(B,{categories:c,err:l})}),Object(j.jsx)(x.a,{exact:!0,path:"/categories/:categoryId",children:Object(j.jsx)(B,{categories:c,err:l})}),Object(j.jsx)(x.a,{exact:!0,path:"/book/:bookId",children:Object(j.jsx)(H,{})}),Object(j.jsx)(x.a,{exact:!0,path:"/contact",children:Object(j.jsx)(q,{})}),Object(j.jsx)(x.a,{exact:!0,path:"/cart",children:Object(j.jsx)(U,{})}),Object(j.jsx)(x.a,{path:"*",children:Object(j.jsx)("h2",{children:"Error 404 - P\xe1gina no encontrada..."})})]})})]})})})},$=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,68)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),s(e),a(e)}))};a.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(W,{})}),document.getElementById("root")),$()}},[[66,1,2]]]);
//# sourceMappingURL=main.770c0e63.chunk.js.map